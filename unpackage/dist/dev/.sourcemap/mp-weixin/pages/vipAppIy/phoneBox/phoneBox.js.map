{"version":3,"sources":["webpack:///D:/ming/项目之外/uni/main.js","webpack:///D:/ming/项目之外/uni/pages/vipAppIy/phoneBox/phoneBox.vue?9ac5","webpack:///D:/ming/项目之外/uni/pages/vipAppIy/phoneBox/phoneBox.vue?f9dc","webpack:///D:/ming/项目之外/uni/pages/vipAppIy/phoneBox/phoneBox.vue?8652","webpack:///D:/ming/项目之外/uni/pages/vipAppIy/phoneBox/phoneBox.vue?2fcf","webpack:///D:/ming/项目之外/uni/pages/vipAppIy/phoneBox/phoneBox.vue","webpack:///D:/ming/项目之外/uni/pages/vipAppIy/phoneBox/phoneBox.vue?7154","webpack:///D:/ming/项目之外/uni/pages/vipAppIy/phoneBox/phoneBox.vue?ca21"],"names":["createPage","Page","APP","getApp","data","wxPhoneNumber","codeTime","created","methods","getPhoneNumber","e","detail","encryptedData","wx","showLoading","mask","phone","extraInfo","global","inviteID","cupidcode","request","path","method","Object","assign","iv","then","res","globalData","userInfo","token","user","userId","noticeInit","id","notice","start","wxPhoneData","phoneNumber","checkPhoneIsNew","hideLoading","_phone","exitComponent","refreshVipStatus","_showToast","catch","onError","phoneHandler","value","codeHandler","_code","checkPhoneHandler","test","code","console","log","err","msg","getCodeHandler","uni","endTime","Date","now","startInterval","clearInterval","intervalKey","setInterval","boxToggleHandler","vipInfo","setStorage","key"],"mappings":"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","file":"pages/vipAppIy/phoneBox/phoneBox.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/vipAppIy/phoneBox/phoneBox.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./phoneBox.vue?vue&type=template&id=4e8197e4&scoped=true&\"\nvar renderjs\nimport script from \"./phoneBox.vue?vue&type=script&lang=js&\"\nexport * from \"./phoneBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./phoneBox.vue?vue&type=style&index=0&id=4e8197e4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e8197e4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4e8197e4')) {\n      api.createRecord('4e8197e4', component.options)\n    } else {\n      api.reload('4e8197e4', component.options)\n    }\n    module.hot.accept(\"./phoneBox.vue?vue&type=template&id=4e8197e4&scoped=true&\", function () {\n      api.rerender('4e8197e4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/ming/项目之外/uni/pages/vipAppIy/phoneBox/phoneBox.vue\"\nexport default component.exports","export * from \"-!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./phoneBox.vue?vue&type=template&id=4e8197e4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./phoneBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./phoneBox.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  const APP=getApp();\n  // console.log(APP)\n  import {toastShow,loadShow} from \"../../../utils/all.js\";\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t wxPhoneNumber: true,\n\t\t\t\t codeTime: 0\n\t\t\t};\n\t\t},\n    created() {\n      \n    },\n    methods:{\n      getPhoneNumber(e) {//直接获取微信电话\n        if (e.detail.encryptedData) {\n          wx.showLoading({\n            mask: true\n          });\n          let phone = '', extraInfo = {};\n  \n          if (global.inviteID) {\n              extraInfo['inviter'] = global.inviteID\n          }\n  \n          if (global.cupidcode) {\n            extraInfo['cupidcode'] = global.cupidcode\n          }\n  \n          this.request({\n            path: '/wxapp/phone/aes',\n            method: 'POST',\n            data: Object.assign({\n              encryptedData: e.detail.encryptedData,\n              iv: e.detail.iv\n            }, extraInfo)\n          }).then(res => {\n            APP.globalData.userInfo = {\n              ...APP.globalData.userInfo,\n              token: res.token,\n              user: res.user,\n              userId: res.userId\n            };\n            // 如果还没开始消息请求，则开启消息请求\n            if (!APP.noticeInit && res.user.id && res.user.id > 0) {\n              APP.noticeInit = true;\n              notice.start();\n            }\n            phone = res.wxPhoneData.phoneNumber;\n            return this.checkPhoneIsNew(phone); // 同时，需要检查一下手机号是否是新的\n          }).then(res => {\n            if (res) {\n              wx.hideLoading();\n              this._phone = phone;\n              this.exitComponent();\n              // 刷新一下vip状态\n              this.refreshVipStatus();\n            } else {\n              wx.hideLoading();\n              wx._showToast('该手机号已被使用！');\n            }\n          }).catch(global.onError('获取手机号失败, 请手动填写!'));\n        }\n      },\n      // 手动输入的电话号码\n      phoneHandler(e) {\n        this._phone = e.detail.value;\n      },\n  \n      // 验证码\n      codeHandler(e) {\n        this._code = e.detail.value;\n      },\n      // 提交校验验证码\n      checkPhoneHandler() {\n        let phone = this._phone, extraInfo={};\n        if (!/^1\\d{10}$/.test(phone)) {\n          toastShow('请填写正确的手机号!');\n          return;\n        } else if (!/\\d{4}/.test(this._code)) {\n          toastShow('请填写正确的验证码!');\n          return;\n        }\n  \n        if (global.inviteID) {//媒人推荐\n          extraInfo['inviter'] = APP.globalData.inviteID.inviteID\n        }\n        if (global.cupidcode) {\n          extraInfo['cupidcode'] = APP.globalData.inviteID.cupidcode\n        }\n        this.request({\n          path: '/user/Public/signin',\n          method: 'POST',\n          data: Object.assign({\n            phone: phone,\n            code: this._code\n          }, extraInfo)\n        }).then(res => {\n          // 同时，需要检查一下手机号是否是新的\n          APP.globalData.userInfo = {\n            ...APP.globalData.userInfo,\n            token: res.token,\n            user: res.user,\n            userId: res.userId\n          };\n          console.log( APP.globalData.userInfo);\n          // 如果还没开始消息请求，则开启消息请求\n          // if (!APP.noticeInit && res.user.id && res.user.id > 0) {\n          //   APP.noticeInit = true;\n          //   notice.start();\n          // }\n          toastShow('验证通过!');\n          // 刷新一下vip状态\n          this.refreshVipStatus();\n          this.exitComponent();\n        }).catch(err => {\n          if (err.msg === '验证码不正确!') {\n            toastShow(err.msg);\n          } else {\n            toastShow('获取验证码失败，请稍后重试!');\n          }\n        });\n      },\n      // 检查该手机号是否使用过了\n      checkPhoneIsNew(phone) {\n        return this.request({\n          path: '/member/baseinfo/checkAuthPhone',\n          method: 'POST',\n          data: {\n            phone\n          }\n        });\n      },\n      // 获取验证码\n      getCodeHandler() {\n        if (this.codeTime === 0) {\n          let phone = this._phone;\n          if (!/^1\\d{10}$/.test(phone)) {\n            toastShow(\"请输入正确手机号\");\n            return;\n          }\n          loadShow(\"获取中~\");\n          // 获取验证码之前需要先校验一下该手机号是否有被使用过\n          this.checkPhoneIsNew(phone).then(res => {\n            if (res) {\n              return this.request({//发送验证码\n                path: '/user/phoneVerify/sendCode',\n                method: 'POST',\n                data: {\n                  phone: phone\n                }\n              }).then(() => {\n                uni.hideLoading();\n                this.codeTime=90\n                this.endTime = Date.now() + 90000;\n                this.startInterval();\n              });\n            } else {\n              uni.hideLoading();\n              toastShow('该手机号已被使用！');\n              return;\n            }\n          }).catch(err=>{toastShow(\"请求验证码失败，请检查号码格式!\")});\n        }\n      },\n      // 验证码倒计时\n      startInterval() {\n        clearInterval(this.intervalKey);\n        this.intervalKey = setInterval(() => {\n          let codeTime = this.codeTime;\n          if (codeTime - 1 <= 0) {\n            clearInterval(this.intervalKey);\n          }\n          // this.setData({\n          //   codeTime: codeTime <= 0 ? 0 : codeTime - 1\n          // });\n          this.codeTime=codeTime <= 0 ? 0 : codeTime - 1\n        }, 1000);\n      },\n      boxToggleHandler() {\n        this.wxPhoneNumber=!this.wxPhoneNumber;\n      },\n      // 更新一下会员状态\n      refreshVipStatus() {\n        this.request({\n          path: '/member/baseinfo/isMember'\n        }).then(res => {\n          APP.globalData.vipInfo={...res}\n        });\n      },\n      exitComponent() {\n        // 这里将手机号码保存，第二次进入不显示手机号码弹窗\n        uni.setStorage({ key: 'auth_phone', data: '' + this._phone });\n        // this.triggerEvent('closePhoneBox', { phone: this._phone }, {});\n      }\n    }\n\t}\n","import mod from \"-!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./phoneBox.vue?vue&type=style&index=0&id=4e8197e4&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\uni-app\\\\HBuilderX.2.6.1.20200226\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./phoneBox.vue?vue&type=style&index=0&id=4e8197e4&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}